<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <title>Unity Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .fade-in { animation: fadeIn 1.5s ease-out; }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(30px);}
            to { opacity: 1; transform: translateY(0);}
        }
        .hover-scale:hover {
            transform: scale(1.05);
            transition: transform 0.3s ease;
        }
        #controls-panel.fullscreen-fix {
            width: 100vw !important;
            height: 100vh !important;
            left: 0 !important;
            top: 0 !important;
            border-radius: 0 !important;
        }
    </style>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center h-full">

    <!-- Back to Projects Button: fixed at top left with margin -->
    <div class="fixed top-8 left-8 z-50">
        <a href="./Project.html" class="relative bg-gray-800 px-5 py-2 rounded-xl shadow-lg text-lg font-semibold hover:text-blue-500 transition-all duration-300 group">
            &larr; Back to Projects
            <!-- Underline spans the width of the button, not just the text -->
            <span class="pointer-events-none absolute left-0 bottom-0 h-1 w-0 bg-blue-500 transition-all duration-300 group-hover:w-full rounded"></span>
        </a>
    </div>

    <!-- Navigation Bar: centered at the top -->
    <nav class="bg-gray-800 p-4 rounded-2xl shadow-lg w-full max-w-4xl mx-auto mt-8 mb-4 fade-in">
        <ul class="flex justify-center space-x-10">
            <li class="group relative">
                <a href="./index.html" class="text-lg font-semibold hover:text-blue-500 transition-all duration-300">Home</a>
                <span class="absolute left-0 bottom-0 w-0 h-1 bg-blue-500 transition-all duration-300 group-hover:w-full"></span>
            </li>
            <li class="group relative">
                <a href="./Project.html" class="text-lg font-semibold hover:text-red-500 transition-all duration-300">Projects</a>
                <span class="absolute left-0 bottom-0 w-0 h-1 bg-red-500 transition-all duration-300 group-hover:w-full"></span>
            </li>
            <li class="group relative">
                <a href="./html.html" class="text-lg font-semibold hover:text-green-500 transition-all duration-300">Resume</a>
                <span class="absolute left-0 bottom-0 w-0 h-1 bg-green-500 transition-all duration-300 group-hover:w-full"></span>
            </li>
            <li class="group relative">
                <a href="./Photos.html" class="text-lg font-semibold hover:text-purple-500 transition-all duration-300">Photography</a>
                <span class="absolute left-0 bottom-0 w-0 h-1 bg-purple-500 transition-all duration-300 group-hover:w-full"></span>
            </li>
            <li class="group relative">
                <a href="./about.html" class="text-lg font-semibold hover:text-yellow-500 transition-all duration-300">About Me</a>
                <span class="absolute left-0 bottom-0 w-0 h-1 bg-yellow-500 transition-all duration-300 group-hover:w-full"></span>
            </li>
        </ul>
    </nav>

    <!-- Main Content -->
    <div class="fade-in w-full flex flex-col items-center mt-0">
        <!-- Add space between nav and title -->
        <div class="h-8"></div>
        <h1 class="text-3xl font-bold mb-2">Unity Game</h1>
        <!-- Add space between title and game -->
        <div class="h-6"></div>
        <div class="flex flex-col md:flex-row w-full max-w-7xl items-start justify-center gap-16">
            <!-- Game on the left -->
            <div class="flex-shrink-0 w-full md:w-auto" style="max-width:800px;">
                <div class="bg-gray-900 rounded-lg shadow-lg p-0 m-0 flex items-center justify-center" style="overflow:hidden; height:450px;">
                    <div id="unity-container" class="unity-desktop" style="width:800px; height:450px;">
                        <canvas id="unity-canvas" width="800" height="450" tabindex="-1" style="background: #222; border-radius: 0.5rem;"></canvas>
                        <div id="unity-loading-bar">
                            <div id="unity-logo"></div>
                            <div id="unity-progress-bar-empty">
                                <div id="unity-progress-bar-full"></div>
                            </div>
                        </div>
                        <div id="unity-warning"></div>
                        <div id="unity-footer" style="display: flex; align-items: center; justify-content: space-between; padding: 8px 16px; background: #18181b; border-radius: 0 0 0.5rem 0.5rem;">
                            <div id="unity-logo-title-footer"></div>
                            <button id="unity-fullscreen-button" class="bg-gray-700 hover:bg-gray-600 text-white px-3 py-1 rounded ml-2" style="display: flex; align-items: center;">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 3H5a2 2 0 00-2 2v3m0 8v3a2 2 0 002 2h3m8-16h3a2 2 0 012 2v3m0 8v3a2 2 0 01-2 2h-3"/>
                                </svg>
                                Fullscreen
                            </button>
                            <div id="unity-build-title" class="ml-4 text-sm text-gray-300">My project (1)</div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Instructions on the right -->
            <div class="bg-gray-800 rounded-xl shadow-lg p-8 w-full max-w-md mt-4 md:mt-0">
                <h2 class="text-xl font-semibold mb-4 text-green-400">How to Play</h2>
                <ul class="list-disc list-inside text-white space-y-2 mb-4">
                    <li>Click inside the game to activate sound and controls.</li>
                    <li>If you don't hear sound, interact with the game window first.</li>
                    <li>For best experience, use a desktop browser.</li>
                </ul>
                <h3 class="text-lg font-semibold mb-2 text-blue-300">Controls</h3>
                <ul class="list-disc list-inside text-white space-y-1">
                    <li><span class="font-bold">W</span> – Move Forward</li>
                    <li><span class="font-bold">S</span> – Move Down</li>
                    <li><span class="font-bold">A</span> – Move Left</li>
                    <li><span class="font-bold">D</span> – Move Right</li>
                    <li><span class="font-bold">Space</span> – Shoot</li>
                    <li><span class="font-bold">R</span> – Restart</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer Section (like index.html) -->
    <footer class="footer mt-auto w-full bg-gray-800 text-white text-center p-4">
        <p>&copy; 2025 my ePortfolio. All rights reserved.</p>
        <div class="footer-links mt-2">
            <a href="./about.html" class="hover:underline">About</a> |
            <span class="inline-block mx-2 blurred" id="phone-container" onclick="copyPhoneNumber()">
                Contact Me: <span id="phone-number">+1 (905) 865 1777</span>
            </span>
            |
            <a href="https://www.instagram.com/yousef_photography_2862?igsh=MW9hdGVxYTZxdGhmbQ%3D%3D&utm_source=qr" class="hover:underline">Social Media</a>
        </div>
    </footer>

    <script>
        function copyPhoneNumber() {
            const phoneElement = document.getElementById("phone-container");
            const phoneNumber = document.getElementById("phone-number").innerText;
            navigator.clipboard.writeText(phoneNumber).then(() => {
                phoneElement.classList.add("copied");
                setTimeout(() => phoneElement.classList.remove("copied"), 2000);
            });
        }

        var canvas = document.querySelector("#unity-canvas");

        function unityShowBanner(msg, type) {
            var warningBanner = document.querySelector("#unity-warning");
            function updateBannerVisibility() {
                warningBanner.style.display = warningBanner.children.length ? 'block' : 'none';
            }
            var div = document.createElement('div');
            div.innerHTML = msg;
            warningBanner.appendChild(div);
            if (type == 'error') div.style = 'background: red; padding: 10px;';
            else {
                if (type == 'warning') div.style = 'background: yellow; padding: 10px;';
                setTimeout(function() {
                    warningBanner.removeChild(div);
                    updateBannerVisibility();
                }, 5000);
            }
            updateBannerVisibility();
        }

        var buildUrl = "UnityBuild/Build";
        var loaderUrl = buildUrl + "/New folder (5).loader.js";
        var config = {
            arguments: [],
            dataUrl: buildUrl + "/New folder (5).data",
            frameworkUrl: buildUrl + "/New folder (5).framework.js",
            codeUrl: buildUrl + "/New folder (5).wasm",
            streamingAssetsUrl: "UnityBuild/StreamingAssets",
            companyName: "DefaultCompany",
            productName: "My project (1)",
            productVersion: "0.1.0",
            showBanner: unityShowBanner,
        };

        if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
            var meta = document.createElement('meta');
            meta.name = 'viewport';
            meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
            document.getElementsByTagName('head')[0].appendChild(meta);
            document.querySelector("#unity-container").className = "unity-mobile";
            canvas.className = "unity-mobile";
        } else {
            canvas.style.width = "800px";
            canvas.style.height = "450px";
        }

        document.querySelector("#unity-loading-bar").style.display = "block";

        var script = document.createElement("script");
        script.src = loaderUrl;
        script.onload = () => {
            createUnityInstance(canvas, config, (progress) => {
                document.querySelector("#unity-progress-bar-full").style.width = 100 * progress + "%";
            }).then((unityInstance) => {
                document.querySelector("#unity-loading-bar").style.display = "none";
                document.querySelector("#unity-fullscreen-button").onclick = () => {
                    unityInstance.SetFullscreen(1);
                };
                var quit = document.createElement("button");
                quit.style = "margin-left: 5px; background-color: lightgray; border: none; padding: 5px; cursor: pointer";
                quit.innerHTML = "Unload";
                document.querySelector("#unity-build-title").appendChild(quit);
                quit.onclick = () => {
                    unityInstance.Quit().then(() => {
                        document.querySelector("#unity-container").remove();
                        canvas = null;
                        script.remove();
                        script = null;
                    });
                };
            }).catch((message) => {
                alert(message);
            });
        };

        document.body.appendChild(script);
    </script>
</body>
</html>